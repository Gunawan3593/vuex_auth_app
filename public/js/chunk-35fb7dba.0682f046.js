(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-35fb7dba"],{"1a23":function(t,e,a){"use strict";var s=a("67a7"),r=a.n(s);r.a},"67a7":function(t,e,a){},"7f5f":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-row",[a("v-col",{attrs:{cols:"12",xs:"12",md:"12"}},[a("v-card",{staticClass:"mx-auto"},[a("v-card-text",[a("v-row",[a("h2",{staticClass:"ma-1"},[t._v("Sales Order Detail")]),a("v-spacer"),1==t.status?a("v-btn",{staticClass:"ma-1",attrs:{small:"",color:"success"},on:{click:function(e){return t.closeData()}}},[t._v("Close")]):t._e(),2==t.status?a("v-btn",{staticClass:"ma-1",attrs:{small:"",color:"orange",dark:""},on:{click:function(e){return t.openData()}}},[t._v("Open")]):t._e(),0==t.status?a("v-btn",{staticClass:"ma-1",attrs:{small:"",color:"error"},on:{click:function(e){return t.voidData()}}},[t._v("Void")]):t._e(),a("v-btn",{staticClass:"ma-1",attrs:{small:"",color:"primary"},on:{click:function(e){return t.Back()}}},[t._v("Back")])],1)],1)],1)],1),a("v-col",{attrs:{cols:"12",xs:"12",md:"6"}},[a("v-card",{staticClass:"mx-auto"},[a("v-card-text",{staticClass:"pa-0"},[a("v-simple-table",{attrs:{"fixed-header":"",dense:""},scopedSlots:t._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",{staticClass:"text-left",attrs:{width:"100px"}}),a("th",{staticClass:"text-left",attrs:{width:"10px"}}),a("th",{staticClass:"text-left"})])]),a("tbody",[a("tr",[a("td",[t._v("No.")]),a("td",[t._v(":")]),a("td",[t._v(t._s(t.no))])]),a("tr",[a("td",[t._v("Date")]),a("td",[t._v(":")]),a("td",[t._v(t._s(t.date))])]),a("tr",[a("td",[t._v("Customer")]),a("td",[t._v(":")]),a("td",[t._v(t._s(t.customer.name))])])])]},proxy:!0}])})],1)],1)],1),a("v-col",{attrs:{cols:"12",xs:"12",md:"6"}},[a("v-card",{staticClass:"mx-auto"},[a("v-card-text",{staticClass:"pa-0"},[a("v-simple-table",{attrs:{"fixed-header":"",dense:""},scopedSlots:t._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",{staticClass:"text-left",attrs:{width:"100px"}}),a("th",{staticClass:"text-left",attrs:{width:"10px"}}),a("th",{staticClass:"text-left"})])]),a("tbody",[a("tr",[a("td",[t._v("Notes")]),a("td",[t._v(":")]),a("td",[t._v(t._s(t.notes))])]),a("tr",[a("td",[t._v("Status")]),a("td",[t._v(":")]),a("td",[0==t.status?a("v-chip",{staticClass:"ma-1",attrs:{"x-small":"",color:"primary"}},[t._v(" Pending ")]):t._e(),1==t.status?a("v-chip",{staticClass:"ma-1",attrs:{"x-small":"",color:"orange","text-color":"white"}},[t._v(" Deliveriying ")]):t._e(),2==t.status?a("v-chip",{staticClass:"ma-1",attrs:{"x-small":"",color:"purple","text-color":"white"}},[t._v(" Closed ")]):t._e(),3==t.status?a("v-chip",{staticClass:"ma-1",attrs:{"x-small":"",color:"error"}},[t._v(" Void ")]):t._e(),4==t.status?a("v-chip",{staticClass:"ma-1",attrs:{"x-small":"",color:"green","text-color":"white"}},[t._v(" Done ")]):t._e()],1)]),a("tr",[a("td",[t._v("Created by")]),a("td",[t._v(":")]),a("td",[t._v(t._s(t.user.name))])])])]},proxy:!0}])})],1)],1)],1),a("v-col",{attrs:{cols:"12",xs:"12",md:"12"}},[a("v-card",{staticClass:"mx-auto"},[a("v-card-text",{staticClass:"pa-0"},[a("v-simple-table",{attrs:{"fixed-header":"",dense:""},scopedSlots:t._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th"),a("th",{staticClass:"text-center",attrs:{colspan:"3"}},[t._v("Qty")]),a("th"),a("th",{staticClass:"text-center",attrs:{colspan:"2"}},[t._v("Total")])]),a("tr",[a("th",{staticClass:"text-center"},[t._v("Name")]),a("th",{staticClass:"text-center",attrs:{width:"50px"}},[t._v("Order")]),a("th",{staticClass:"text-center",attrs:{width:"50px"}},[t._v("Deliv.")]),a("th",{staticClass:"text-center",attrs:{width:"50px"}},[t._v("Outs.")]),a("th",{staticClass:"text-center",attrs:{width:"200px"}},[t._v("Price")]),a("th",{staticClass:"text-center",attrs:{width:"200px"}},[t._v("Order")]),a("th",{staticClass:"text-center",attrs:{width:"200px"}},[t._v("Deliv.")])])]),a("tbody",[t._l(t.items,(function(e){return a("tr",{key:e.product},[a("td",[t._v(t._s(e.name))]),a("td",[t._v(t._s(e.qty))]),a("td",[t._v(t._s(e.deliv_qty))]),a("td",[t._v(t._s(e.qty-e.deliv_qty))]),a("td",[t._v(t._s(t._f("currency")(e.price)))]),a("td",[t._v(t._s(t._f("currency")(e.qty*e.price)))]),a("td",[t._v(t._s(t._f("currency")(e.deliv_qty*e.price)))])])})),a("tr",[a("td",{staticClass:"text-center",attrs:{colspan:"5"}},[t._v("Total")]),a("td",[t._v(t._s(t._f("currency")(t.getSubtotal)))]),a("td",[t._v(t._s(t._f("currency")(t.getTotalDelivery)))])])],2)]},proxy:!0}])})],1)],1)],1)],1)},r=[],c=(a("4160"),a("fb6a"),a("b0c0"),a("d3b7"),a("25f0"),a("159b"),a("96cf"),a("1da1")),i=a("5530"),n=a("2f62"),o={data:function(){return{id:"",no:"",date:"",customer:"",notes:"",status:"",user:"",items:[]}},methods:Object(i["a"])(Object(i["a"])({},Object(n["b"])(["getSalesOrder","getSoItem","voidSalesOrder","closeSalesOrder","openSalesOrder"])),{},{getDateTime:function(t){var e=new Date(t),a=e.getHours().toString(),s=e.getMinutes().toString(),r=e.getSeconds().toString(),c=("00"+a).substring(a.length)+":"+("00"+s).substring(s.length)+":"+("00"+r).substring(r.length);return e.toISOString().slice(0,10)+" "+c},getItem:function(t){var e=this,a={order:t};this.getSoItem(a).then((function(t){if(t.data.success){var a=t.data.data;e.items=[],a.forEach((function(t){t={name:t.product.name,product:t.product._id,price:t.price,qty:t.qty,deliv_qty:t.deliv_qty},e.items.push(t)}))}}))},loadData:function(t){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function a(){var s,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e.getSalesOrder(t);case 2:s=a.sent,void 0!=s&&(r=s.data.data,e.id=t,e.no=r.no,e.date=e.getDateTime(r.date),e.customer=r.customer,e.notes=r.notes,e.status=r.status,e.user=r.user,e.getItem(t));case 4:case"end":return a.stop()}}),a)})))()},voidData:function(){var t=this,e={id:this.id};this.voidSalesOrder(e).then((function(e){e.data.success&&t.loadData(t.id)}))},closeData:function(){var t=this,e={id:this.id};this.closeSalesOrder(e).then((function(e){e.data.success&&t.loadData(t.id)}))},openData:function(){var t=this,e={id:this.id};this.openSalesOrder(e).then((function(e){e.data.success&&t.loadData(t.id)}))},Back:function(){var t=this.$route.query.page;this.$router.push({name:"solist",params:{page:t}})}}),created:function(){var t=this.$route.params.id;this.loadData(t)},computed:{getSubtotal:function(){var t=this.items;if(0!=t.length){for(var e=0,a=0;a<t.length;a++)e+=t[a].qty*t[a].price;return e}},getTotalDelivery:function(){var t=this.items;if(0!=t.length){for(var e=0,a=0;a<t.length;a++)e+=t[a].deliv_qty*t[a].price;return e}}}},l=o,d=(a("1a23"),a("2877")),u=a("6544"),v=a.n(u),_=a("8336"),h=a("b0af"),f=a("99d9"),p=a("cc20"),m=a("62ad"),x=a("0fd9"),C=a("1f4f"),g=a("2fa4"),y=Object(d["a"])(l,s,r,!1,null,"922e9312",null);e["default"]=y.exports;v()(y,{VBtn:_["a"],VCard:h["a"],VCardText:f["b"],VChip:p["a"],VCol:m["a"],VRow:x["a"],VSimpleTable:C["a"],VSpacer:g["a"]})}}]);
//# sourceMappingURL=chunk-35fb7dba.0682f046.js.map