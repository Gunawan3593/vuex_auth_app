(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d224cf4"],{e25f:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-row",{attrs:{align:"center",justify:"center"}},[r("v-col",{attrs:{cols:"12",sm:"8",md:"12"}},[r("v-card",{staticClass:"elevation-12"},[r("v-toolbar",{attrs:{color:"primary",dark:"",flat:""}},[r("v-toolbar-title",[e._v("Inventory List")]),r("v-spacer"),r("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),r("v-card-text",[r("v-data-table",{attrs:{headers:e.headers,items:e.rows,search:e.search,page:e.page},on:{"update:page":function(t){e.page=t}},scopedSlots:e._u([{key:"item.cost",fn:function(t){var r=t.item;return[e._v(" "+e._s(e._f("currency")(r.cost))+" ")]}},{key:"item.price",fn:function(t){var r=t.item;return[e._v(" "+e._s(e._f("currency")(r.price))+" ")]}},{key:"item.stock",fn:function(t){var a=t.item;return[e._v(" "+e._s(a.stock)+" "),r("v-tooltip",{attrs:{left:"",color:"error"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,o=t.attrs;return[a.stock<a.order?r("v-icon",e._g(e._b({attrs:{color:"error"}},"v-icon",o,!1),n),[e._v("mdi-alert-circle")]):e._e()]}}],null,!0)},[r("span",[e._v("Warning : Stock is not enough !"),r("br"),e._v(" If you still do the delivery order, "),r("br"),e._v(" Stock will have minus value")])])]}}],null,!0)})],1)],1)],1)],1)},n=[],o=(r("4de4"),r("4160"),r("fb6a"),r("b0c0"),r("d3b7"),r("25f0"),r("159b"),r("96cf"),r("1da1")),c=r("5530"),s=r("2f62"),i={data:function(){return{search:"",page:1,headers:[{text:"Name",align:"start",sortable:!1,value:"name"},{text:"Category",value:"category.name"},{text:"Cost",value:"cost"},{text:"Price",value:"price"},{text:"Stock",value:"stock"},{text:"Order",value:"order"}],rows:[]}},computed:Object(c["a"])({},Object(s["c"])(["user"])),mounted:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.loadData();case 2:r=e.$route.params.page,void 0!=r&&(e.page=parseInt(r));case 4:case"end":return t.stop()}}),t)})))()},created:function(){},methods:Object(c["a"])(Object(c["a"])({},Object(s["b"])(["getProduct","getInventory","getSoDelivByProduct"])),{},{editItem:function(e){this.$router.push({path:"/purchase/invoice/edit/"+e._id,query:{page:this.page}})},loadData:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r,a,n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getProduct();case 2:return r=t.sent,a=[],n=[],o=[],r.data.success&&(a=r.data.data),t.next=9,e.getInventory();case 9:return r=t.sent,r.data.success&&(n=r.data.data),t.next=13,e.getSoDelivByProduct();case 13:r=t.sent,r.data.success&&(o=r.data.data),a.forEach((function(t){var r=n.filter((function(e){return e.product==t._id})),a=0;void 0!=r[0]&&(a=r[0].qty);var c=o.filter((function(e){return e._id==t._id})),s=0;void 0!=c[0]&&(s=c[0].qtyDelivable);var i={name:t.name,category:t.category,cost:t.cost,price:t.price,stock:a,order:s};e.rows.push(i)}));case 16:case"end":return t.stop()}}),t)})))()},getDateTime:function(e){var t=new Date(e),r=t.getHours().toString(),a=t.getMinutes().toString(),n=t.getSeconds().toString(),o=("00"+r).substring(r.length)+":"+("00"+a).substring(a.length)+":"+("00"+n).substring(n.length);return t.toISOString().slice(0,10)+" "+o},showItem:function(e){this.$router.push({path:"/purchase/invoice/show/"+e._id,query:{page:this.page}})}})},u=i,l=r("2877"),d=r("6544"),v=r.n(d),f=r("b0af"),p=r("99d9"),g=r("62ad"),h=r("8fea"),m=r("132d"),b=r("0fd9"),_=r("2fa4"),y=r("8654"),w=r("71d9"),k=r("2a7f"),x=r("3a2f"),S=Object(l["a"])(u,a,n,!1,null,null,null);t["default"]=S.exports;v()(S,{VCard:f["a"],VCardText:p["b"],VCol:g["a"],VDataTable:h["a"],VIcon:m["a"],VRow:b["a"],VSpacer:_["a"],VTextField:y["a"],VToolbar:w["a"],VToolbarTitle:k["a"],VTooltip:x["a"]})}}]);
//# sourceMappingURL=chunk-2d224cf4.2ba65b58.js.map